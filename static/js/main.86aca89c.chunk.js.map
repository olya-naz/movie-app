{"version":3,"sources":["assets/img/default-poster.jpg","assets/img/camera.svg","components/header/header.js","components/footer/footer.js","api/api-tmdb.js","components/top-movies/top-movies.js","components/vote/vote.js","components/movie-item/movie-item.js","components/loader/loader.js","components/error/error.js","components/movie-list/movie-list.js","components/pages/main-page.js","components/movie-details/movie-details.js","components/pages/movie-page.js","components/pagination/pagination.js","components/pages/search-page.js","components/app/app.js","index.js"],"names":["module","exports","Header","state","searchValue","handleSubmit","e","preventDefault","length","setState","props","history","push","handleInputChange","target","value","this","className","to","src","logo","alt","onSubmit","type","placeholder","onChange","Component","withRouter","Footer","href","ApiTmdb","_API_KEY","_API_BASE","getAllMovies","url","a","getResource","res","results","map","getData","getMovie","id","item","getVideo","key","getSearchResults","query","getSearchPagination","page","title","overview","tagline","image","poster_path","backdrop","backdrop_path","date","release_date","vote","vote_average","genre","genres","fetch","ok","Error","status","json","TopMovies","_apiCall","movie","fetched","randomMovie","movieArr","Math","floor","random","then","response","timer","setInterval","clearInterval","bannerImg","style","backgroundImage","Vote","classNames","Number","Object","values","MovieItem","posterImage","defaultImg","Loader","MovieList","itemList","updateItem","prevProps","scroll","scrollToTop","smooth","duration","delay","isDynamic","data","React","MainPage","Helmet","MovieDetails","details","isOpen","videoSrc","openModal","getVideoSrc","catch","error","console","genreList","name","onClick","channel","videoId","onClose","MoviePage","Pagination","loading","getPage","total_pages","host","window","location","hash","path","pathname","log","n","indexOf","substring","split","prevButton","nextButton","SearchPage","getPagination","App","exact","render","match","params","component","ReactDom","document","getElementById"],"mappings":"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","file":"static/js/main.86aca89c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/default-poster.8f2c6207.jpg\";","module.exports = __webpack_public_path__ + \"static/media/camera.89605246.svg\";","import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\n\nimport './header.scss';\nimport logo from '../../assets/img/camera.svg';\n\nclass Header extends Component {\n    state = {\n        searchValue: ''\n    };\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n\n        const { searchValue } = this.state;\n\n        if(searchValue.length === 0) {\n            return;\n        }\n\n        this.setState({\n            searchValue: ''\n        });\n\n        this.props.history.push(`/search/${searchValue}`);\n    };\n\n    handleInputChange = (e) => {\n        this.setState({\n            searchValue: e.target.value\n        });\n    };\n\n    render() {\n        const { searchValue } = this.state;\n        return(\n            <header>\n                <div className=\"container\">\n                    <div className=\"logo-wr\">\n                        <Link to=\"/\">\n                            <img src={logo} alt=\"logo\"/>\n                            <span>MovieApp</span>\n                        </Link>\n                    </div>\n                    <div className=\"search-wr\">\n                        <form className=\"search-form\"\n                              onSubmit={ this.handleSubmit }>\n                            <input type=\"text\"\n                                   value={ searchValue }\n                                   placeholder=\"Type to search...\"\n                                   className=\"search-text\"\n                                   onChange={ this.handleInputChange } />\n                            <button type=\"submit\"\n                                    className=\"search-button\">\n                                <i className=\"icon-search\" />\n                            </button>\n                        </form>\n                    </div>\n                </div>\n            </header>\n        )\n    }\n}\n\nexport default withRouter(Header);","import React from 'react';\nimport './footer.scss';\n\nconst Footer = () => {\n    return(\n        <footer>\n            <div className=\"container\">\n                <div>© 2019 MovieApp</div>\n                <div><a href=\"https://www.themoviedb.org\"><img src=\"https://www.themoviedb.org/assets/2/v4/logos/powered-by-rectangle-green-dcada16968ed648d5eb3b36bbcfdd8cdf804f723dcca775c8f2bf4cea025aad6.svg\" alt=\"\"/></a></div>\n            </div>\n        </footer>\n    )\n};\n\nexport default Footer;","export default class ApiTmdb {\n    _API_KEY = '?api_key=fcf247972b8f4e5c42eeb5aa3a0cfdd9';\n    _API_BASE = `https://api.themoviedb.org/3/`;\n\n    async getResource(url) {\n        const res = await fetch(`${this._API_BASE}${url}`);\n\n        if(!res.ok) {\n            throw new Error(`Could not fetch, \n                             received ${res.status}`);\n        }\n\n        return await res.json();\n    };\n\n    getAllMovies = async(url) => {\n        const res = await this.getResource(`movie/${url}${this._API_KEY}`);\n        return res.results.map(this.getData);\n    };\n    getMovie = async(id) => {\n        const item = await this.getResource(`movie/${id}${this._API_KEY}`);\n        return this.getData(item);\n    };\n    getVideo = async(url) => {\n        const res = await this.getResource(`movie/${url}${this._API_KEY}`);\n        return res.results[0].key;\n    };\n    getSearchResults = async(query) => {\n        const res = await this.getResource(`search/movie${this._API_KEY}&query=${query}`);\n        return res.results.map(this.getData);\n    };\n    getSearchPagination = async(query, page) => {\n        const res = await this.getResource(`search/movie${this._API_KEY}&query=${query}`);\n        return res;\n    };\n\n    getData = (item) => {\n        return {\n            id: item.id,\n            title: item.title,\n            overview: item.overview,\n            tagline: item.tagline,\n            image: item.poster_path,\n            backdrop: item.backdrop_path,\n            date: item.release_date,\n            vote: item.vote_average,\n            genre: item.genres\n        }\n    };\n};","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport ApiTmdb from \"../../api/api-tmdb\";\n\nimport './top-movies.scss';\n\nexport default class TopMovies extends Component {\n    _apiCall = new ApiTmdb();\n\n    state = {\n        movie: [],\n        fetched: false\n    };\n\n    randomMovie = () => {\n        const movieArr = [546554, 512200, 398978, 549053, 420809];\n        const id = movieArr[Math.floor(Math.random() * movieArr.length)];\n        this._apiCall.getMovie(`${id}`)\n            .then(response => this.setState({\n                movie: response,\n                fetched: true\n            }));\n    };\n\n    componentDidMount() {\n        this.randomMovie();\n\n        this.timer = setInterval(this.randomMovie, 7000);\n    };\n    componentWillUnmount() {\n        clearInterval(this.timer);\n    }\n\n    render() {\n        const { id, backdrop, title } = this.state.movie;\n        const bannerImg = this.state.fetched ? `https://image.tmdb.org/t/p/original/${backdrop}` : null;\n\n        return(\n            <div className=\"top-rank-movie-block\">\n                <Link to={`/movie/${id}`}\n                      style={{ backgroundImage: `url(${bannerImg})` }} >\n                    <div className=\"content-wr\">\n                        <div className=\"container\">\n                            <h3>{title}</h3>\n                            <div className=\"button-link\"><button>More info</button></div>\n                        </div>\n                    </div>\n                </Link>\n            </div>\n        )\n    };\n};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './vote.scss';\n\nconst Vote = ({ vote }) => {\n    let classNames = ['vote'];\n\n    if(Number(Object.values({vote})) > 6.9) {\n        classNames += ' hight';\n    } else if(Number(Object.values({vote})) > 3.9) {\n        classNames += ' middle';\n    }\n\n    return(\n        <>\n            { vote > 0 && (\n                <div className={classNames}>\n                    <i className=\"icon-star-solid\" />\n                    {vote}\n                </div>\n            )}\n        </>\n    )\n};\n\nexport default Vote;\n\nVote.propTypes = {\n    vote: PropTypes.number\n};","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Vote from '../vote/vote'\n\nimport './movie-item.scss';\nimport defaultImg from \"../../assets/img/default-poster.jpg\";\n\nconst MovieItem = ({ id, title, image, vote }) => {\n    const posterImage = image ? `https://image.tmdb.org/t/p/w342/${image}` : defaultImg;\n\n    return(\n        <div className=\"movie-item\">\n            <Link to={`/movie/${id}`} >\n                <figure>\n                    <img src={posterImage} alt={`${title} img`}/>\n                    <figcaption>{title}</figcaption>\n                </figure>\n            </Link>\n            <Vote vote={vote} />\n        </div>\n    )\n};\n\nexport default MovieItem;\n\nMovieItem.propTypes = {\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string,\n    image: PropTypes.string,\n    vote: PropTypes.number,\n};","import React from 'react';\n\nimport './loader.scss';\n\nconst Loader = () => {\n    return(\n        <div className=\"loader\">\n            <div className=\"circle circle-1\"></div>\n            <div className=\"circle circle-2\"></div>\n        </div>\n    )\n};\n\nexport default Loader;","import React from 'react';\n\nimport './error.scss';\n\nconst Error = () => {\n    return(\n        <div className=\"error\">\n            <div className=\"title\">Ooops!</div>\n            <p>Couldn't find that. Try something else.</p>\n        </div>\n    )\n};\n\nexport default Error;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { animateScroll as scroll } from 'react-scroll';\nimport MovieItem from \"../movie-item/movie-item\";\nimport Loader from \"../loader/loader\";\nimport Error from \"../error/error\";\n\nimport './movie-list.scss';\n\nexport default class MovieList extends React.Component {\n    static propTypes = {\n        url: PropTypes.string.isRequired,\n        getData: PropTypes.func.isRequired,\n        title: PropTypes.string\n    };\n\n    state = {\n        itemList: [],\n        fetched: false\n    };\n\n    componentDidMount() {\n        this.updateItem();\n    };\n\n    componentDidUpdate(prevProps) {\n        if (this.props.url !== prevProps.url) {\n            this.updateItem();\n\n            scroll.scrollToTop({\n                smooth: true,\n                duration: 500,\n                delay: 0,\n                isDynamic: true,\n            });\n        }\n    };\n\n    updateItem() {\n        const { getData, url } = this.props;\n        if (!url) {\n            return;\n        }\n\n        getData(url)\n            .then(response => this.setState({\n                itemList: response,\n                fetched: true\n            }));\n    }\n    render() {\n        const { itemList, fetched } = this.state;\n        const { title } = this.props;\n\n        const data = itemList.map(item => {\n            const { id } = item;\n\n            return (\n                <MovieItem key={ id }\n                           { ...item } />\n            );\n        });\n\n        if(fetched) {\n            return(\n                <>\n                    <div className=\"movie-list\">\n                        <div className=\"container\">\n                            <h2>{ title }</h2>\n                            { data.length ? (\n                                <div className=\"movie-list-wr\">\n                                    { data }\n                                </div>)\n                                : <Error /> }\n                        </div>\n                    </div>\n                </>\n            );\n        } else {\n            return(\n                <Loader />\n            )\n        }\n    }\n};","import React from 'react';\nimport { Helmet } from 'react-helmet';\nimport TopMovies from \"../top-movies/top-movies\";\nimport MovieList from \"../movie-list/movie-list\";\n\nconst MainPage = ({ getData }) => {\n    return(\n        <>\n            <Helmet>\n                <title>MovieApp</title>\n            </Helmet>\n            <TopMovies />\n            <MovieList getData={ getData }\n                       url=\"popular\"\n                       title='Popular today:' />\n        </>\n    )\n};\n\nexport default MainPage;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Helmet } from 'react-helmet';\nimport { animateScroll as scroll } from 'react-scroll';\nimport ModalVideo from 'react-modal-video';\nimport ApiTmdb from \"../../api/api-tmdb\";\nimport Loader from \"../loader/loader\";\nimport Vote from \"../vote/vote\";\n\nimport './movie-details.scss';\nimport './modal-video.scss';\nimport defaultImg from '../../assets/img/default-poster.jpg';\n\nexport default class MovieDetails extends Component {\n    static propTypes = {\n        id: PropTypes.number.isRequired,\n    };\n\n    _apiCall = new ApiTmdb();\n\n    state = {\n        details: [],\n        fetched: false,\n        isOpen: false,\n        videoSrc: null\n    };\n\n    openModal = () => {\n        this.setState({\n            isOpen: true\n        });\n    };\n\n    componentDidMount() {\n        this.updateItem();\n        this.getVideoSrc();\n\n        scroll.scrollToTop({\n            smooth: true,\n            duration: 0,\n            delay: 0,\n            isDynamic: true,\n        });\n    };\n    componentDidUpdate(prevProps) {\n        if (this.props.id !== prevProps.id) {\n            this.updateItem();\n            this.getVideoSrc();\n        }\n    };\n\n    updateItem() {\n        const {id} = this.props;\n\n        this._apiCall.getMovie(id)\n            .then(response => this.setState({\n                details: response,\n                fetched: true\n            }));\n    }\n\n    getVideoSrc = () => {\n        this._apiCall.getVideo(`${this.props.id}/videos`)\n            .then(response => this.setState({\n                videoSrc: response\n            }))\n            .catch( error => console.error(error));\n    };\n\n    render() {\n        const { fetched, videoSrc } = this.state;\n        const { image, backdrop, title, tagline, overview, genre, date, vote } = this.state.details;\n\n        const bannerImg = (fetched && backdrop) ? `https://image.tmdb.org/t/p/original/${backdrop}` : null;\n        const posterImage = (fetched && image) ? `https://image.tmdb.org/t/p/w500/${image}` : defaultImg;\n\n        const genreList = this.state.fetched ?\n                                    genre.map(item => {return <li key={item.id}>{item.name}</li>})\n                                    : null;\n\n        if(fetched) {\n            return(\n                <div className=\"movie-details\">\n                    <Helmet>\n                        <title>{`${title} — MovieApp`}</title>\n                    </Helmet>\n                    <div className=\"backdrop-wr\">\n                        <div className=\"backdrop-inner\" style={{backgroundImage: `url(${bannerImg})`}} />\n                    </div>\n                    <div className=\"movie-details-inner\">\n                        <div className=\"poster-wr hidden-sm hidden-xs\">\n                            <img src={posterImage} alt={`${title} img`}/>\n                        </div>\n                        <div className=\"details-wr\">\n                            <div className=\"top-block\">\n                                <h1>{title}</h1>\n                                { tagline && <blockquote>\"{tagline}\"</blockquote> }\n                            </div>\n                            <Vote vote={vote} />\n                            { date && <p><span className=\"descr-title\">Date:</span> {date}</p> }\n                            <p>\n                                <span className=\"descr-title\">Overview:</span> {overview}\n                            </p>\n                            <ul>\n                                <li>\n                                    <span className=\"descr-title\">Genres:</span>\n                                </li>\n                                { genreList }\n                            </ul>\n                            { videoSrc && (\n                                <button className=\"movie-button\"\n                                        onClick={ this.openModal } >\n                                    <i className=\"icon-play\" />\n                                    <span>Watch Trailer</span>\n                                </button>\n                            )}\n                        </div>\n                    </div>\n\n                    <ModalVideo channel='youtube'\n                                isOpen={this.state.isOpen}\n                                videoId={this.state.videoSrc}\n                                onClose={ () => this.setState({isOpen: false}) } />\n                </div>\n            )\n        } else {\n            return <Loader />\n        }\n    }\n};","import React from 'react';\nimport MovieDetails from \"../movie-details/movie-details\";\nimport MovieList from \"../movie-list/movie-list\";\n\nconst MoviePage = ({ id, getData }) => {\n    return(\n        <>\n            <MovieDetails id={id} />\n            <MovieList id={id}\n                       getData={ getData }\n                       url={`${id}/recommendations`}\n                       title='Recommended:' />\n        </>\n    )\n};\n\nexport default MoviePage;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport './pagination.scss';\n\nexport default class Pagination extends Component {\n    static propTypes = {\n        url: PropTypes.string.isRequired,\n        getData: PropTypes.func.isRequired\n    };\n\n    state = {\n        data: null,\n        loading: true\n    };\n    componentDidMount() {\n        this.getPage();\n    }\n    componentDidUpdate(prevProps) {\n        if(prevProps.url !== this.props.url) {\n            this.getPage();\n        }\n    }\n    getPage() {\n        const { getData, url } = this.props;\n\n        getData(url)\n            .then(response => this.setState({\n                data: response,\n                loading: false\n            }));\n    }\n\n    render() {\n        if(!this.state.loading) {\n            const { page, total_pages } = this.state.data;\n\n            const host = window.location.host;\n            let hash = window.location.hash;\n            let path = window.location.pathname;\n            console.log(host);\n            console.log(hash);\n            console.log(path);\n            const n = path.indexOf('&');\n            path = path.substring(0, n !== -1 ? n : path.length);\n            console.log(`path: ${path}&page=${page-1}`);\n\n            hash = hash.split('#')[1];\n\n            const prevButton = (page !== 1) ?\n                <Link to={`${hash}&page=${page-1}`}\n                      className=\"prev-btn\">\n                    <i className=\"icon-left\"/> Prev page\n                </Link>\n                : null;\n            const nextButton = (page < total_pages) ?\n                <Link to={`${hash}&page=${page+1}`}\n                      className=\"next-btn\">\n                    Next page <i className=\"icon-right\"/>\n                </Link>\n                : null;\n\n            return(\n                <div className=\"pagination\">\n                    <div className=\"container\">\n                        { prevButton }\n                        { nextButton }\n                    </div>\n                </div>\n            )\n        } else {\n            return null\n        }\n    }\n}","import React from 'react';\nimport { Helmet } from 'react-helmet';\nimport MovieList from \"../movie-list/movie-list\";\nimport Pagination from \"../pagination/pagination\";\n\nconst SearchPage = ({ getData, getPagination, url, title }) => {\n    return(\n        <>\n            <Helmet>\n                <title>{`Search: ${url} — MovieApp`}</title>\n            </Helmet>\n            <MovieList getData={ getData }\n                       url={ url }\n                       title={`Search results: ${title}`} />\n            <Pagination getData={ getPagination }\n                        url={ url } />\n        </>\n    )\n};\n\nexport default SearchPage;","import React from 'react';\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Header from \"../header/header\";\nimport Footer from '../footer/footer';\nimport MainPage from '../pages/main-page';\nimport MoviePage from '../pages/movie-page';\nimport SearchPage from \"../pages/search-page\";\nimport Error from \"../error/error\";\nimport ApiTmdb from \"../../api/api-tmdb\";\n\nimport '../../assets/styles/_base.scss';\n\nconst {\n    getAllMovies,\n    getSearchResults,\n    getSearchPagination\n} = new ApiTmdb();\n\nconst App = () => {\n    return(\n        <>\n            <Router>\n                <Header />\n                <main>\n                    <Switch>\n                        <Route path=\"/\"\n                               exact\n                               render={() => {\n                                   return <MainPage getData={ getAllMovies }/>\n                               }}/>\n\n                        <Route path=\"/movie/:id\"\n                               render={({ match }) => {\n                                   const { id } = match.params;\n                                   return <MoviePage id={ id }\n                                                     getData={ getAllMovies } />\n                               }} />\n\n                        <Route path=\"/search/:query\"\n                               render={({ match }) => {\n                                   const { query } = match.params;\n                                   const n = query.indexOf('&');\n                                   const title = query.substring(0, n !== -1 ? n : query.length);\n                                   return <SearchPage getData={ getSearchResults }\n                                                      getPagination={ getSearchPagination }\n                                                      url={ query }\n                                                      title={ title }/>\n                               }} />\n                        <Route component={ Error } />\n                    </Switch>\n                </main>\n                <Footer />\n            </Router>\n        </>\n    )\n};\n\nexport default App;","import React from 'react';\nimport ReactDom from 'react-dom';\nimport App from \"./components/app/app\";\n\nReactDom.render(<App/>, document.getElementById('root'));"],"sourceRoot":""}